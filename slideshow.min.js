(function(){"use strict";var t,e,n,r,i,o,l,u,s=[].slice,c={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};!function(t){var e,n,r,i,o;for(n=0,i=["ms","moz","webkit","o"],e=0;e<i.length&&!t.requestAnimationFrame;)r=i[e++],t.requestAnimationFrame=t[r+"RequestAnimationFrame"],t.cancelAnimationFrame=null!=(o=t[r+"CancelAnimationFrame"])?o:t[r+"CancelRequestAnimationFrame"];return null==t.requestAnimationFrame&&(t.requestAnimationFrame=function(e){var r,i,o;return r=(new Date).getTime(),o=Math.max(0,16-(r-n)),i=t.setTimeout(function(){return e(r+o)},o),n=r+o,i}),null==t.cancelAnimationFrame?t.cancelAnimationFrame=function(t){return clearTimeout(t)}:void 0}("undefined"!=typeof window&&null!==window?window:this),i=null!=i?i:function(t){return o(t&&t!==+t)},o=function(t){return"[object Number]"===Object.prototype.toString.call(t)},l=function(t){var e;return"object"==(e=typeof t)||"function"===e},e=function(){var t,e,n,r,i,o;if(r=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],l(r)){for(i=0,o=e.length;o>i;i++){t=e[i];for(n in t)c.call(t,n)&&(r[n]=t[n])}return r}},r=function(t,e){var n,r,i,o;if(null!=t){for(n=i=0,o=t.length;o>i;n=++i)if(r=t[n],r===e)return n;return-1}},t=function(t,e){return function(){return t.apply(e,[].slice.call(arguments))}},u=function(t){var e;return e={},function(n){var r,i,o,l,u,s;if(n in e)return e[n];if(i=t.document.createElement("div").style,n in i)return e[n]=n;for(n=n.charAt(0).toUpperCase()+n.slice(1),s=["moz","webkit","khtml","o","ms"],l=0,u=s.length;u>l;l++)if(o=s[l],r=""+o+n,r in i)return e[n]=r;return e[n]=falsedistance}}("undefined"!=typeof window&&null!==window?window:this),n=function(){var n;return n=function(){function n(t,n){if(1!==t.nodeType&&(null!=t[0]&&(t=t[0]),null!=t.el&&(t=t.el)),1!==t.nodeType)throw new Error("No valid element provided");this.opts=e({},o,n),this.el=t,l.call(this)}var i,o,l,s,c,h,f,d,p,m;return o={touchEnabled:!0,preventScroll:!0,animationDuration:400,conditions:[{progress:.1,time:250,durationModifier:.5},{progress:.3,time:500},{progress:.5}],effect:{before:function(t,e){var n,r;return e.style.display="block",r=u("transform"),n=100*-t,r?e.style[r]="translateX("+n+"%)":e.style.left=n+"%"},progress:function(t,e,n){var r,i;return i=u("transform"),r=100*e*(1-t/Math.abs(e)),i?n.style[i]="translateX("+r+"%)":n.style.left=r+"%"},after:function(t,e){return e.style.display=t>0?"block":"none"}}},l=function(){return s.call(this),c.call(this)},s=function(){var t,e,n,r,i,o,l,u;for(this.el.style.overflow="hidden",e=this.opts.effect.before,t=this.opts.effect.after,this.slides=null!=(l=this.el.children)?l:this.el.childNodes,this.current=0,u=this.slides,n=i=0,o=u.length;o>i;n=++i)r=u[n],n!==this.current&&(null!=e&&e.call(this,1,r),null!=t&&t.call(this,0,r));return null!=e&&e.call(this,0,this.slides[this.current]),null!=t?t.call(this,1,this.slides[this.current]):void 0},c=function(){return(this.touchEnabled=this.opts.touchEnabled&&"undefined"!=typeof TouchEvent&&null!==TouchEvent)?(this.el.addEventListener("touchstart",function(t){return function(e){return m.call(t,e)}}(this)),this.el.addEventListener("touchmove",function(t){return function(e){return p.call(t,e)}}(this)),this.el.addEventListener("touchend",function(t){return function(e){return d.call(t,e)}}(this))):void 0},f=function(t){return this.current=r(this.slides,t)},i=function(e,n,r,i){var o,l,u,s,c;return l=r.direction,c=r.progress,s=r.durationMod,null==this.currentAnimation?(null==c&&(c=0),null==s&&(s=1),u=Math.max(1,this.opts.animationDuration*(1-c)*s),null==this.currentTouchEvent&&(o=this.opts.effect.before,null!=o&&o.call(this,0,e),null!=o&&o.call(this,0>l?1:-1,n)),this.currentAnimation={start:(new Date).getTime(),currentSlide:e,targetSlide:n,direction:l,duration:u,progress:c,callback:i},requestAnimationFrame(t(h,this))):void 0},h=function(){var e,n,r,i,o;return r=requestAnimationFrame(t(h,this)),n=this.currentAnimation,i=Math.min(1,n.progress+((new Date).getTime()-n.start)/n.duration*(1-n.progress)),o=this.opts.effect.progress,null!=o&&o.call(this,0,i*n.direction,n.currentSlide),null!=o&&o.call(this,1,i*n.direction,n.targetSlide),i>=1?(this.currentAnimation=null,cancelAnimationFrame(r),e=this.opts.effect.after,null!=e&&e.call(this,0,n.currentSlide),null!=e&&e.call(this,1,n.targetSlide),"function"==typeof n.callback&&n.callback(),f.call(this,n.targetSlide)):void 0},m=function(t){var e,n,r,i;if(null==this.currentAnimation&&null==this.currentTouchEvent)return n=this.getCurrentSlide(),i=this.getPrevSlide(),r=this.getNextSlide(),e=this.opts.effect.before,null!=e&&e.call(this,0,n),null!=e&&e.call(this,-1,i),null!=e&&e.call(this,1,r),this.currentTouchEvent={currentSlide:n,prevSlide:i,nextSlide:r,touchStart:t.timeStamp,touchX:t.touches[0].pageX,touchY:t.touches[0].pageY},this.opts.preventDefaultEvents?t.preventDefault():void 0},p=function(t){var e,n;if(!this.currentAnimation&&null!=this.currentTouchEvent)return n=this.currentTouchEvent,e={x:(t.touches[0].pageX-n.touchX)/this.el.clientWidth,y:(t.touches[0].pageY-n.touchY)/this.el.clientHeight},requestAnimationFrame(function(t){return function(){var r;return r=t.opts.effect.progress,r.call(t,0,e,n.currentSlide),r.call(t,1,e,0>e?n.nextSlide:n.prevSlide)}}(this)),this.opts.preventDefaultEvents?t.preventDefault():void 0},d=function(t){var e,n,r,o,l,u,s,c,a,h,f,d,p,m;if(!this.currentAnimation&&null!=this.currentTouchEvent){for(a=this.currentTouchEvent,l=(t.changedTouches[0].pageX-a.touchX)/this.el.clientWidth,c=t.timeStamp-a.touchStart,u=Math.abs(l),d=this.opts.conditions,h=0,f=d.length;f>h;h++)if(e=d[h],u>e.progress&&c<(null!=(p=e.time)?p:1/0)){o=null!=(m=e.durationModifier)?m:1;break}return null!=o?(n=a.currentSlide,0>l?(r=-1,s=a.nextSlide):(r=1,s=a.prevSlide),l=u):(s=a.currentSlide,0>l?(r=1,n=a.nextSlide):(r=-1,n=a.prevSlide),l=1-u),i.call(this,n,s,{direction:r,progress:l,durationMod:o},function(t){return function(){return t.currentTouchEvent=null}}(this)),this.opts.preventDefaultEvents?t.preventDefault():void 0}},n.prototype.getSlide=function(t){return t%=this.slides.length,0>t&&(t+=this.slides.length),this.slides[t]},n.prototype.getCurrentSlide=function(){return this.slides[this.current]},n.prototype.getNextSlide=function(){return this.getSlide(this.current+1)},n.prototype.getPrevSlide=function(){return this.getSlide(this.current-1)},n.prototype.getFirstSlide=function(){return this.slides[0]},n.prototype.getLastSlide=function(){return this.slides[this.slides.length-1]},n.prototype.goTo=function(t,e){var n,r,o;if(t!==this.current)return n=this.getCurrentSlide(),o=this.getSlide(t),r=t<this.current?1:-1,i.call(this,n,o,{direction:r},e)},n.prototype.goToNext=function(t){var e,n,r;return e=this.getCurrentSlide(),r=this.getNextSlide(),n=-1,i.call(this,e,r,{direction:n},t)},n.prototype.goToPrev=function(t){var e,n,r;return e=this.getCurrentSlide(),r=this.getPrevSlide(),n=1,i.call(this,e,r,{direction:n},t)},n.prototype.goToFirst=function(t){var e,n,r;return e=this.getCurrentSlide(),r=this.getFirstSlide(),n=1,i.call(this,e,r,{direction:n},t)},n.prototype.goToLast=function(t){var e,n,r;return e=this.getCurrentSlide(),r=this.getLastSlide(),n=-1,i.call(this,e,r,{direction:n},t)},n.registerAsJQueryPlugin=function(t,e){return t.fn[e]=function(t){var e,r,i,o;for(o=[],r=0,i=this.length;i>r;r++)e=this[r],o.push(new n(e,t));return o}},n.extend=function(t,e){var r,i,o;r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e}(n);for(i in t)o=t[i],r.prototype[i]=o;for(i in e)o=e[i],r[i]=o;return r},n}()},function(t,e){var n;return n=e(t.document),"function"==typeof define&&define.amd?define([],function(){return n}):"undefined"!=typeof exports?module.exports=n:t.Slideshow=n}(this,n)}).call(this);