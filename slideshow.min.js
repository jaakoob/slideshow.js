(function(){"use strict";var t,e,n,i,r,s,o,l=[].slice,u={}.hasOwnProperty;!function(t){var e,n,i,r,s;for(n=0,r=["ms","moz","webkit","o"],e=0;e<r.length&&!t.requestAnimationFrame;)i=r[e++],t.requestAnimationFrame=t[i+"RequestAnimationFrame"],t.cancelAnimationFrame=null!=(s=t[i+"CancelAnimationFrame"])?s:t[i+"CancelRequestAnimationFrame"];return null==t.requestAnimationFrame&&(t.requestAnimationFrame=function(e){var i,r,s;return i=(new Date).getTime(),s=Math.max(0,16-(i-n)),r=t.setTimeout(function(){return e(i+s)},s),n=i+s,r}),null==t.cancelAnimationFrame?t.cancelAnimationFrame=function(t){return clearTimeout(t)}:void 0}("undefined"!=typeof window&&null!==window?window:this),r=function(t,e){var n,i,r,s;if(null!=t){if(null!=Array.prototype.indexOf)return Array.prototype.indexOf.call(Array.prototype.slice.call(t),e);for(n=r=0,s=t.length;s>r;n=++r)if(i=t[n],i===e)return n;return-1}},i=function(){var t,e,n,i,r,s;if(i=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"object"==typeof i){for(r=0,s=e.length;s>r;r++){t=e[r];for(n in t)u.call(t,n)&&(i[n]=t[n])}return i}},n=function(t){return i({},t)},e=function(t,e){return function(){return t.apply(e,[].slice.call(arguments))}},s=null!=(o=Date.now)?o:function(){return(new Date).getTime()},t=function(){function t(t,e){if(null==e&&(e={}),1!==t.nodeType&&(null!=t[0]&&(t=t[0]),null!=t.el&&(t=t.el)),1!==t.nodeType)throw new Error("No valid element provided");this.configure(e),this.el=t,d.call(this)}var o,l,u,c,h,a,d,f,v,p,m,g;return t.prototype.configure=function(t){var e;return this.options=i({},l,t),"string"==typeof this.options.effect&&null!=u[this.options.effect]?(this.options.effect=n(u[this.options.effect]),null!=(e=this.options.effect).conditions?e.conditions:e.conditions=u["default"].conditions.concat()):void 0},l={touchEventsEnabled:!0,mouseEventsEnabled:!0,preventDefaultEvents:!0,animationDuration:400,animationDirection:"x",effect:"default"},u={"default":function(){var t;return t=function(){var t,e,n,i,r,s;if(e=document.createElement("div").style,null!=e.transform)return"transform";for(s=["moz","webkit","khtml","o","ms"],i=0,r=s.length;r>i;i++)if(n=s[i],t=n+"Transform",null!=e[t])return t;return!1}(),{conditions:[{progress:.1,time:250,durationModifier:.5},{progress:.3,time:500},{progress:.5}],before:function(e,n){var i;return n.style.display="block",i=100*-e,t?n.style[t]="translateX("+i+"%)":n.style.left=i+"%"},progress:function(e,n,i){var r;return r=100*n*(1-e/Math.abs(n)),t?i.style[t]="translateX("+r+"%)":i.style.left=r+"%"},after:function(t,e){return e.style.display=t>0?"block":"none"}}}()},d=function(){return v.call(this),f.call(this)},v=function(){var t,e,n,i,r,s,o,l,u,c,h;for(e=null!=(o=this.options.effect.before)?o:function(){},t=null!=(l=this.options.effect.after)?l:function(){},this.slides=null!=(u=this.el.children)?u:this.el.childNodes,this.current=0,c=this.slides,h=[],n=r=0,s=c.length;s>r;n=++r)i=c[n],n!==this.current&&(n===this.current?(e.call(this,0,this.slides[this.current]),h.push(t.call(this,1,this.slides[this.current]))):(e.call(this,1,i),h.push(t.call(this,0,i))));return h},f=function(){var t,n,i,r,s;if(this.eventStart=e(a,this),this.eventProgress=e(h,this),this.eventEnd=e(c,this),"undefined"!=typeof TouchEvent&&null!==TouchEvent&&this.options.touchEventsEnabled&&(this.el.addEventListener("touchstart",this.eventStart),this.el.addEventListener("touchmove",this.eventProgress),this.el.addEventListener("touchend",this.eventEnd)),"undefined"!=typeof MouseEvent&&null!==MouseEvent&&this.options.mouseEventsEnabled){for(this.el.addEventListener("mousedown",this.eventStart),this.el.addEventListener("mousemove",this.eventProgress),this.el.addEventListener("mouseup",this.eventEnd),this.el.addEventListener("mouseleave",this.eventEnd),r=this.slides,s=[],n=0,i=r.length;i>n;n++)t=r[n],t.addEventListener("mousedown",m),t.addEventListener("mousemove",m),s.push(t.addEventListener("mouseup",m));return s}},g=function(t){return this.current=r(this.slides,t)},o=function(t,n,i,r){var o,l,u,c,h,a,d,f;return o=i.direction,h=i.initialProgress,u=i.durationMod,null==this.currentAnimation?(null!=(d=this.options.onWillChange)&&d.call(this,t,n,(this.current+1)%this.children.length),a=null!=h?h:0,null==u&&(u=1),l=Math.max(1,this.options.animationDuration*(1-a)*u),null==this.currentEvent&&(c=null!=(f=this.options.effect.before)?f:function(){},c.call(this,0,t),c.call(this,0>o?1:-1,n)),this.currentAnimation={start:s(),currentSlide:t,targetSlide:n,direction:o,duration:l,progress:a,callback:r},requestAnimationFrame(e(p,this))):void 0},p=function(){var t,n,i,r,o,l,u,c,h,a,d,f,v,m,E;return c=requestAnimationFrame(e(p,this)),t=this.currentAnimation,f=this.currentAnimation,a=f.start,h=f.progress,o=f.duration,r=f.direction,i=f.currentSlide,d=f.targetSlide,n=f.callback,h+=(s()-a)/o*(1-h),h>=1&&(h=1,this.currentAnimation=null,cancelAnimationFrame(c),l=null!=(v=this.options.effect.after)?v:function(){},l.call(this,0,i),l.call(this,1,d),g.call(this,d),null!=n&&n.call(this,i,d,this.current),null!=(m=this.options.onDidChange)&&m.call(this,i,d,this.current),g.call(this,d)),u=null!=(E=this.options.effect.progress)?E:function(){},u.call(this,0,h*r,i),u.call(this,1,h*r,d)},a=function(t){var e,n,i,r,s,o,l,u,c,h,a;return this.options.preventDefaultEvents&&t.preventDefault(),null==this.currentAnimation&&null==this.currentEvent?(e=this.getCurrentSlide(),o=this.getPrevSlide(),i=this.getNextSlide(),n=null!=(u=this.options.effect.before)?u:function(){},n.call(this,0,e),n.call(this,-1,o),n.call(this,1,i),l=t.timeStamp,a=null!=(c=null!=(h=t.touches)?h[0]:void 0)?c:t,r=a.pageX,s=a.pageY,this.currentEvent={currentSlide:e,prevSlide:o,nextSlide:i,timeStamp:l,pageX:r,pageY:s}):void 0},h=function(t){var e,n,i,r,s,o,l;return this.options.preventDefaultEvents&&t.preventDefault(),this.currentAnimation||null==this.currentEvent?void 0:(l=null!=(s=null!=(o=t.touches)?o[0]:void 0)?s:t,e=l.pageX,n=l.pageY,i=function(){switch(this.options.animationDirection){case"x":return(e-this.currentEvent.pageX)/this.el.clientWidth;case"y":return(n-this.currentEvent.pageY)/this.el.clientHeight}}.call(this),r=0>i?this.currentEvent.nextSlide:this.currentEvent.prevSlide,requestAnimationFrame(function(t){return function(){var e,n;return e=null!=(n=t.options.effect.progress)?n:function(){},e.call(t,0,i,t.currentEvent.currentSlide),e.call(t,1,i,r)}}(this)))},c=function(t){var e,n,i,r,s,l,u,c,h,a,d,f,v,p,m,g,E,y,S,A;if(this.options.preventDefaultEvents&&t.preventDefault(),!this.currentAnimation&&null!=this.currentEvent){if(f=t.timeStamp,E=null!=(m=null!=(g=t.changedTouches)?g[0]:void 0)?m:t,l=E.pageX,u=E.pageY,c=function(){switch(this.options.animationDirection){case"x":return(l-this.currentEvent.pageX)/this.el.clientWidth;case"y":return(u-this.currentEvent.pageY)/this.el.clientHeight}}.call(this),0===c)return void(this.currentEvent=null);for(d=f-this.currentEvent.timeStamp,h=Math.abs(c),y=this.options.effect.conditions,v=0,p=y.length;p>v;v++)if(e=y[v],h>e.progress&&d<(null!=(S=e.time)?S:1/0)){r=null!=(A=e.durationModifier)?A:1;break}return null!=r?(n=this.currentEvent.currentSlide,i=c/h,a=1===i?this.currentEvent.prevSlide:this.currentEvent.nextSlide,s=h):(a=this.currentEvent.currentSlide,i=-c/h,n=1===i?this.currentEvent.nextSlide:this.currentEvent.prevSlide,s=1-h),o.call(this,n,a,{direction:i,initialProgress:s,durationMod:r},function(t){return function(){return t.currentEvent=null}}(this))}},m=function(t){return t.preventDefault()},t.prototype.getSlide=function(t){return t%=this.slides.length,0>t&&(t+=this.slides.length),this.slides[t]},t.prototype.getCurrentSlide=function(){return this.slides[this.current]},t.prototype.getCurrentIndex=function(){return this.current},t.prototype.getNextSlide=function(){return this.getSlide(this.current+1)},t.prototype.getPrevSlide=function(){return this.getSlide(this.current-1)},t.prototype.getFirstSlide=function(){return this.slides[0]},t.prototype.getLastSlide=function(){return this.slides[this.slides.length-1]},t.prototype.goTo=function(t,e){var n,i,r;if(t!==this.current)return n=this.getCurrentSlide(),r=this.getSlide(t),i=t<this.current?1:-1,o.call(this,n,r,{direction:i},e)},t.prototype.goToNext=function(t){return this.goTo(this.current+1,t)},t.prototype.goToPrev=function(t){return this.goTo(this.current-1,t)},t.prototype.goToFirst=function(t){return this.goTo(0,t)},t.prototype.goToLast=function(t){return this.goTo(this.slides.length-1,t)},t.prototype.destroy=function(){var t,e,n,i,r;for(this.el.removeEventListener("touchstart",this.eventStart),this.el.removeEventListener("touchmove",this.eventProgress),this.el.removeEventListener("touchend",this.eventEnd),this.el.removeEventListener("mousedown",this.eventStart),this.el.removeEventListener("mousemove",this.eventProgress),this.el.removeEventListener("mouseup",this.eventEnd),this.el.removeEventListener("mouseleave",this.eventEnd),i=this.slides,e=0,n=i.length;n>e;e++)t=i[e],t.removeEventListener("mousedown",m),t.removeEventListener("mousemove",m),t.removeEventListener("mouseup",m);return r={},this.el=r.el,this.slides=r.slides,this.eventStart=r.eventStart,this.eventProgress=r.eventProgress,this.eventEnd=r.eventEnd,this.options=r.options,r},t.registerAsJQueryPlugin=function(e,n){return null==n&&(n="Slideshow"),e.fn[n]=function(e){var n,i,r,s;for(s=[],i=0,r=this.length;r>i;i++)n=this[i],s.push(new t(n,e));return s}},t.registerEffect=function(t,e){return null==e.conditions&&(e.conditions=u["default"].conditions.concat()),null!=u[t]?u[t]:u[t]=e},t}(),function(e){return"function"==typeof define&&define.amd?define([],function(){return t}):"undefined"!=typeof exports?module.exports=t:e.Slideshow=t}(this)}).call(this);