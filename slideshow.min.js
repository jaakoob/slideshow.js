(function(){"use strict";var t,e,n,i,r,s,o,l=[].slice,u={}.hasOwnProperty,c=function(t,e){return(+t%(e=+e)+e)%e};!function(t){var e,n,i,r,s;for(n=0,s=["ms","moz","webkit","o"],e=0;e<s.length&&!t.requestAnimationFrame;)r=s[e++],t.requestAnimationFrame=t[r+"RequestAnimationFrame"],t.cancelAnimationFrame=null!=(i=t[r+"CancelAnimationFrame"])?i:t[r+"CancelRequestAnimationFrame"];return null==t.requestAnimationFrame&&(t.requestAnimationFrame=function(e){var i,r,s;return i=(new Date).getTime(),s=Math.max(0,16-(i-n)),r=t.setTimeout(function(){return e(i+s)},s),n=i+s,r}),null==t.cancelAnimationFrame?t.cancelAnimationFrame=function(t){return clearTimeout(t)}:void 0}("undefined"!=typeof window&&null!==window?window:this),r=function(t,e){var n,i,r,s;if(null!=t){if(null!=Array.prototype.indexOf)return Array.prototype.indexOf.call(Array.prototype.slice.call(t),e);for(n=r=0,s=t.length;s>r;n=++r)if(i=t[n],i===e)return n;return-1}},i=function(){var t,e,n,i,r,s;if(s=arguments[0],i=2<=arguments.length?l.call(arguments,1):[],"object"==typeof s){for(t=0,e=i.length;e>t;t++){n=i[t];for(r in n)u.call(n,r)&&(s[r]=n[r])}return s}},n=function(t){return i({},t)},e=function(t,e){return function(){return t.apply(e,[].slice.call(arguments))}},s=null!=(o=Date.now)?o:function(){return(new Date).getTime()},t=function(){function t(t,e){if(null==e&&(e={}),1!==t.nodeType&&(null!=t[0]&&(t=t[0]),null!=t.el&&(t=t.el)),1!==t.nodeType)throw new Error("No valid element provided");this.configure(e),this.el=t,f.call(this)}var o,l,u,h,a,d,f,v,p,m,g,E;return t.prototype.configure=function(t){var e;return this.options=i({},l,t),"string"==typeof this.options.effect&&null!=u[this.options.effect]?(this.options.effect=n(u[this.options.effect]),null!=(e=this.options.effect).conditions?e.conditions:e.conditions=u["default"].conditions.concat()):void 0},l={touchEventsEnabled:!0,mouseEventsEnabled:!0,swipeThreshold:0,animationDuration:400,animationDirection:"x",effect:"default"},u={"default":function(){var t;return t=function(){var t,e,n,i,r,s;if(r=document.createElement("div").style,null!=r.transform)return"transform";for(i=["moz","webkit","khtml","o","ms"],t=0,e=i.length;e>t;t++)if(s=i[t],n=s+"Transform",null!=r[n])return n;return!1}(),{conditions:[{progress:.1,time:250,durationModifier:.5},{progress:.3,time:500},{progress:.5}],before:function(e,n){var i;return n.style.display="block",i=100*-e,t?n.style[t]="translateX("+i+"%)":n.style.left=i+"%"},progress:function(e,n,i){var r;return r=100*n*(1-e/Math.abs(n)),t?i.style[t]="translateX("+r+"%)":i.style.left=r+"%"},after:function(t,e){return e.style.display=t>0?"block":"none"}}}()},f=function(){return p.call(this),v.call(this)},p=function(){var t,e,n,i,r,s,o,l,u,c,h;for(e=null!=(s=this.options.effect.before)?s:Function.prototype,t=null!=(o=this.options.effect.after)?o:Function.prototype,this.slides=null!=(l=this.el.children)?l:this.el.childNodes,this.current=0,u=this.slides,c=[],n=i=0,r=u.length;r>i;n=++i)h=u[n],n!==this.current&&(n===this.current?(e.call(this,0,this.slides[this.current]),c.push(t.call(this,1,this.slides[this.current]))):(e.call(this,1,h),c.push(t.call(this,0,h))));return c},v=function(){var t,n,i,r,s;if(this.eventStart=e(d,this),this.eventProgress=e(a,this),this.eventEnd=e(h,this),"undefined"!=typeof TouchEvent&&null!==TouchEvent&&this.options.touchEventsEnabled&&(this.el.addEventListener("touchstart",this.eventStart),this.el.addEventListener("touchmove",this.eventProgress),this.el.addEventListener("touchend",this.eventEnd)),"undefined"!=typeof MouseEvent&&null!==MouseEvent&&this.options.mouseEventsEnabled){for(this.el.addEventListener("mousedown",this.eventStart),this.el.addEventListener("mousemove",this.eventProgress),this.el.addEventListener("mouseup",this.eventEnd),this.el.addEventListener("mouseleave",this.eventEnd),i=this.slides,r=[],t=0,n=i.length;n>t;t++)s=i[t],s.addEventListener("mousedown",g),s.addEventListener("mousemove",g),r.push(s.addEventListener("mouseup",g));return r}},E=function(t){return this.current=r(this.slides,t)},o=function(t,n,i,r){var o,l,u,h,a,d,f,v;return o=i.direction,a=i.initialProgress,u=i.durationMod,null==this.currentAnimation?(null!=this.currentEvent&&this.currentEvent.cancelOnWillChange||null!=(f=this.options.onWillChange)&&f.call(this,t,n,c(this.current-o/Math.abs(o),this.slides.length)),d=null!=a?a:0,null==u&&(u=1),l=Math.max(1,this.options.animationDuration*(1-d)*u),null==this.currentEvent&&(h=null!=(v=this.options.effect.before)?v:Function.prototype,h.call(this,0,t),h.call(this,0>o?1:-1,n)),this.currentAnimation={start:s(),currentSlide:t,targetSlide:n,direction:o,duration:l,progress:d,callback:r},requestAnimationFrame(e(m,this))):void 0},m=function(t){var n,i,r,o,l,u,c,h,a,d,f,v,p,g,y;return h=requestAnimationFrame(e(m,this)),n=this.currentAnimation,d=this.currentAnimation,g=d.start,a=d.progress,l=d.duration,o=d.direction,r=d.currentSlide,y=d.targetSlide,i=d.callback,a+=(s()-g)/l*(1-a),a>=1&&(a=1,this.currentAnimation=null,cancelAnimationFrame(h),u=null!=(f=this.options.effect.after)?f:Function.prototype,u.call(this,0,r),u.call(this,1,y),E.call(this,y),"function"==typeof i&&i.call(this,r,y,this.current),null!=(v=this.options.onDidChange)&&v.call(this,r,y,this.current),E.call(this,y)),c=null!=(p=this.options.effect.progress)?p:Function.prototype,c.call(this,0,a*o,r),c.call(this,1,a*o,y)},d=function(t){var e,n,i,r,s,o,l,u,c,h,a;if(null==this.currentAnimation&&null==this.currentEvent)return e=this.getCurrentSlide(),r=this.getPrevSlide(),i=this.getNextSlide(),n=null!=(s=this.options.effect.before)?s:Function.prototype,n.call(this,0,e),n.call(this,-1,r),n.call(this,1,i),a=t.timeStamp,u=null!=(o=null!=(l=t.touches)?l[0]:void 0)?o:t,c=u.pageX,h=u.pageY,this.currentEvent={currentSlide:e,prevSlide:r,nextSlide:i,timeStamp:a,startX:c,startY:h}},a=function(t){var e,n,i,r,s,o,l,u,h;if(!this.currentAnimation&&null!=this.currentEvent&&(l=null!=(s=null!=(o=t.touches)?o[0]:void 0)?s:t,n=l.pageX,i=l.pageY,r={x:(n-this.currentEvent.startX)/this.el.clientWidth,y:(i-this.currentEvent.startY)/this.el.clientHeight},r=function(){switch(this.options.animationDirection){case"x":if(Math.abs(r.x)>Math.abs(r.y))return r.x;break;case"y":if(Math.abs(r.y)>Math.abs(r.x))return r.y}}.call(this),this.currentEvent.shouldCancel=!r,null!=r))return h=0>r?this.currentEvent.nextSlide:this.currentEvent.prevSlide,h!==this.currentEvent.targetSlide&&(this.currentEvent.cancelOnWillChange=!1,this.currentEvent.targetSlide=h),this.currentEvent.cancelOnWillChange&&0!==r||(this.currentEvent.cancelOnWillChange=!0,e=c(this.current-r/Math.abs(r),this.slides.length),null!=(u=this.options.onWillChange)&&u.call(this,this.currentEvent.currentSlide,h,e)),this.currentEvent.targetSlide=h,requestAnimationFrame(function(t){return function(){var e,n;return e=null!=(n=t.options.effect.progress)?n:Function.prototype,e.call(t,0,r,t.currentEvent.currentSlide),e.call(t,1,r,h)}}(this))},h=function(t){var e,n,i,r,s,l,u,c,h,a,d,f,v,p,m,g,E,y,S,b;if(!this.currentAnimation&&null!=this.currentEvent){if(b=t.timeStamp,p=null!=(f=null!=(v=t.changedTouches)?v[0]:void 0)?f:t,c=p.pageX,h=p.pageY,a=function(){switch(this.options.animationDirection){case"x":return(c-this.currentEvent.startX)/this.el.clientWidth;case"y":return(h-this.currentEvent.startY)/this.el.clientHeight}}.call(this),this.currentEvent.shouldCancel)return n=a>0?this.currentEvent.nextSlide:this.currentEvent.prevSlide,i=a/Math.abs(a),s=1-Math.abs(a),o.call(this,n,this.currentEvent.currentSlide,{direction:i,initialProgress:s}),void(this.currentEvent=null);if(0===a)return void(this.currentEvent=null);for(S=b-this.currentEvent.timeStamp,d=Math.abs(a),m=this.options.effect.conditions,l=0,u=m.length;u>l;l++)if(e=m[l],d>e.progress&&S<(null!=(g=e.time)?g:1/0)){r=null!=(E=e.durationModifier)?E:1;break}return null!=r?(n=this.currentEvent.currentSlide,i=a/d,y=1===i?this.currentEvent.prevSlide:this.currentEvent.nextSlide,s=d):(y=this.currentEvent.currentSlide,i=-a/d,n=1===i?this.currentEvent.nextSlide:this.currentEvent.prevSlide,s=1-d),o.call(this,n,y,{direction:i,initialProgress:s,durationMod:r},function(t){return function(){return t.currentEvent=null}}(this))}},g=function(t){return t.preventDefault()},t.prototype.getSlide=function(t){return this.slides[c(t,this.slides.length)]},t.prototype.getCurrentSlide=function(){return this.slides[this.current]},t.prototype.getCurrentIndex=function(){return this.current},t.prototype.getNextSlide=function(){return this.getSlide(this.current+1)},t.prototype.getPrevSlide=function(){return this.getSlide(this.current-1)},t.prototype.getFirstSlide=function(){return this.slides[0]},t.prototype.getLastSlide=function(){return this.slides[this.slides.length-1]},t.prototype.goTo=function(t,e){var n,i,r;if(t!==this.current)return n=this.getCurrentSlide(),r=this.getSlide(t),i=t<this.current?1:-1,o.call(this,n,r,{direction:i},e)},t.prototype.goToNext=function(t){return this.goTo(this.current+1,t)},t.prototype.goToPrev=function(t){return this.goTo(this.current-1,t)},t.prototype.goToFirst=function(t){return this.goTo(0,t)},t.prototype.goToLast=function(t){return this.goTo(this.slides.length-1,t)},t.prototype.destroy=function(){var t,e,n,i,r;for(this.el.removeEventListener("touchstart",this.eventStart),this.el.removeEventListener("touchmove",this.eventProgress),this.el.removeEventListener("touchend",this.eventEnd),this.el.removeEventListener("mousedown",this.eventStart),this.el.removeEventListener("mousemove",this.eventProgress),this.el.removeEventListener("mouseup",this.eventEnd),this.el.removeEventListener("mouseleave",this.eventEnd),n=this.slides,t=0,e=n.length;e>t;t++)r=n[t],r.removeEventListener("mousedown",g),r.removeEventListener("mousemove",g),r.removeEventListener("mouseup",g);return i={},this.el=i.el,this.slides=i.slides,this.eventStart=i.eventStart,this.eventProgress=i.eventProgress,this.eventEnd=i.eventEnd,this.options=i.options,i},t.registerAsJQueryPlugin=function(e,n){return null==n&&(n="Slideshow"),e.fn[n]=function(e){var n,i,r,s;for(s=[],i=0,r=this.length;r>i;i++)n=this[i],s.push(new t(n,e));return s}},t.registerEffect=function(t,e){return null==e.conditions&&(e.conditions=u["default"].conditions.concat()),null!=u[t]?u[t]:u[t]=e},t}(),function(e){return"function"==typeof define&&define.amd?define([],function(){return t}):"undefined"!=typeof exports?module.exports=t:e.Slideshow=t}(this)}).call(this);
//# sourceMappingURL=slideshow.min.js.map
