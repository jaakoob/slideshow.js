(function(){"use strict";var t,e,n,i,r,o,l,u,s=[].slice,c={}.hasOwnProperty;!function(t){var e,n,i,r,o;for(n=0,r=["ms","moz","webkit","o"],e=0;e<r.length&&!t.requestAnimationFrame;)i=r[e++],t.requestAnimationFrame=t[i+"RequestAnimationFrame"],t.cancelAnimationFrame=null!=(o=t[i+"CancelAnimationFrame"])?o:t[i+"CancelRequestAnimationFrame"];return null==t.requestAnimationFrame&&(t.requestAnimationFrame=function(e){var i,r,o;return i=(new Date).getTime(),o=Math.max(0,16-(i-n)),r=t.setTimeout(function(){return e(i+o)},o),n=i+o,r}),null==t.cancelAnimationFrame?t.cancelAnimationFrame=function(t){return clearTimeout(t)}:void 0}("undefined"!=typeof window&&null!==window?window:this),r=null!=r?r:function(t){return o(t&&t!==+t)},o=function(t){return"[object Number]"===Object.prototype.toString.call(t)},l=function(t){var e;return"object"==(e=typeof t)||"function"===e},e=function(){var t,e,n,i,r,o;if(i=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],l(i)){for(r=0,o=e.length;o>r;r++){t=e[r];for(n in t)c.call(t,n)&&(i[n]=t[n])}return i}},i=function(t,e){var n,i,r,o;if(null!=t){for(n=r=0,o=t.length;o>r;n=++r)if(i=t[n],i===e)return n;return-1}},t=function(t,e){return function(){return t.apply(e,[].slice.call(arguments))}},u=function(t){var e;return e={},function(n){var i,r,o,l,u,s;if(n in e)return e[n];if(r=t.document.createElement("div").style,n in r)return e[n]=n;for(n=n.charAt(0).toUpperCase()+n.slice(1),s=["moz","webkit","khtml","o","ms"],l=0,u=s.length;u>l;l++)if(o=s[l],i=""+o+n,i in r)return e[n]=i;return e[n]=falsedistance}}("undefined"!=typeof window&&null!==window?window:this),n=function(){var n;return n=function(){function n(t,n){if(1!==t.nodeType&&(null!=t[0]&&(t=t[0]),null!=t.el&&(t=t.el)),1!==t.nodeType)throw new Error("No valid element provided");this.opts=e({},o,n),this.el=t,l.call(this)}var r,o,l,s,c,a,h,f,d,p;return o={touchEnabled:!0,preventScroll:!0,animationDuration:400,conditions:[{progress:.1,time:250,durationModifier:.5},{progress:.3,time:500},{progress:.5}],effect:{before:function(t,e){var n,i;return e.style.display="block",i=u("transform"),n=100*-t,i?e.style[i]="translateX("+n+"%)":e.style.left=n+"%"},progress:function(t,e,n){var i,r;return r=u("transform"),i=100*e*(1-t/Math.abs(e)),r?n.style[r]="translateX("+i+"%)":n.style.left=i+"%"},after:function(t,e){return e.style.display=t>0?"block":"none"}}},l=function(){return s.call(this),c.call(this)},s=function(){var t,e,n,i,r,o,l,u,s;for(this.el.style.overflow="hidden",e=this.opts.effect.before,t=this.opts.effect.after,this.slides=null!=(l=this.el.children)?l:this.el.childNodes,this.current=0,u=this.slides,s=[],n=r=0,o=u.length;o>r;n=++r)i=u[n],n!==this.current&&(i.style.position="absolute",n===this.current?(null!=e&&e.call(this,0,this.slides[this.current]),s.push(null!=t?t.call(this,1,this.slides[this.current]):void 0)):(null!=e&&e.call(this,1,i),s.push(null!=t?t.call(this,0,i):void 0)));return s},c=function(){return(this.touchEnabled=this.opts.touchEnabled&&"undefined"!=typeof TouchEvent&&null!==TouchEvent)?(this.el.addEventListener("touchstart",function(t){return function(e){return p.call(t,e)}}(this)),this.el.addEventListener("touchmove",function(t){return function(e){return d.call(t,e)}}(this)),this.el.addEventListener("touchend",function(t){return function(e){return f.call(t,e)}}(this))):void 0},h=function(t){return this.current=i(this.slides,t)},r=function(e,n,i,r){var o,l,u,s,c;return l=i.direction,c=i.progress,s=i.durationMod,null==this.currentAnimation?(null==c&&(c=0),null==s&&(s=1),u=Math.max(1,this.opts.animationDuration*(1-c)*s),null==this.currentTouchEvent&&(o=this.opts.effect.before,null!=o&&o.call(this,0,e),null!=o&&o.call(this,0>l?1:-1,n)),this.currentAnimation={start:(new Date).getTime(),currentSlide:e,targetSlide:n,direction:l,duration:u,progress:c,callback:r},requestAnimationFrame(t(a,this))):void 0},a=function(){var e,n,i,r,o;return i=requestAnimationFrame(t(a,this)),n=this.currentAnimation,r=Math.min(1,n.progress+((new Date).getTime()-n.start)/n.duration*(1-n.progress)),o=this.opts.effect.progress,null!=o&&o.call(this,0,r*n.direction,n.currentSlide),null!=o&&o.call(this,1,r*n.direction,n.targetSlide),r>=1?(this.currentAnimation=null,cancelAnimationFrame(i),e=this.opts.effect.after,null!=e&&e.call(this,0,n.currentSlide),null!=e&&e.call(this,1,n.targetSlide),"function"==typeof n.callback&&n.callback(),h.call(this,n.targetSlide)):void 0},p=function(t){var e,n,i,r;if(null==this.currentAnimation&&null==this.currentTouchEvent)return n=this.getCurrentSlide(),r=this.getPrevSlide(),i=this.getNextSlide(),e=this.opts.effect.before,null!=e&&e.call(this,0,n),null!=e&&e.call(this,-1,r),null!=e&&e.call(this,1,i),this.currentTouchEvent={currentSlide:n,prevSlide:r,nextSlide:i,touchStart:t.timeStamp,touchX:t.touches[0].pageX,touchY:t.touches[0].pageY},this.opts.preventDefaultEvents?t.preventDefault():void 0},d=function(t){var e,n;if(!this.currentAnimation&&null!=this.currentTouchEvent)return n=this.currentTouchEvent,e={x:(t.touches[0].pageX-n.touchX)/this.el.clientWidth,y:(t.touches[0].pageY-n.touchY)/this.el.clientHeight},requestAnimationFrame(function(t){return function(){var i;return i=t.opts.effect.progress,i.call(t,0,e,n.currentSlide),i.call(t,1,e,0>e?n.nextSlide:n.prevSlide)}}(this)),this.opts.preventDefaultEvents?t.preventDefault():void 0},f=function(t){var e,n,i,o,l,u,s,c,a,h,f,d,p,m;if(!this.currentAnimation&&null!=this.currentTouchEvent){for(a=this.currentTouchEvent,l=(t.changedTouches[0].pageX-a.touchX)/this.el.clientWidth,c=t.timeStamp-a.touchStart,u=Math.abs(l),d=this.opts.conditions,h=0,f=d.length;f>h;h++)if(e=d[h],u>e.progress&&c<(null!=(p=e.time)?p:1/0)){o=null!=(m=e.durationModifier)?m:1;break}return null!=o?(n=a.currentSlide,0>l?(i=-1,s=a.nextSlide):(i=1,s=a.prevSlide),l=u):(s=a.currentSlide,0>l?(i=1,n=a.nextSlide):(i=-1,n=a.prevSlide),l=1-u),r.call(this,n,s,{direction:i,progress:l,durationMod:o},function(t){return function(){return t.currentTouchEvent=null}}(this)),this.opts.preventDefaultEvents?t.preventDefault():void 0}},n.prototype.getSlide=function(t){return t%=this.slides.length,0>t&&(t+=this.slides.length),this.slides[t]},n.prototype.getCurrentSlide=function(){return this.slides[this.current]},n.prototype.getNextSlide=function(){return this.getSlide(this.current+1)},n.prototype.getPrevSlide=function(){return this.getSlide(this.current-1)},n.prototype.getFirstSlide=function(){return this.slides[0]},n.prototype.getLastSlide=function(){return this.slides[this.slides.length-1]},n.prototype.goTo=function(t,e){var n,i,o;if(t!==this.current)return n=this.getCurrentSlide(),o=this.getSlide(t),i=t<this.current?1:-1,r.call(this,n,o,{direction:i},e)},n.prototype.goToNext=function(t){return this.goTo(this.current+1,t)},n.prototype.goToPrev=function(t){return this.goTo(this.current-1,t)},n.prototype.goToFirst=function(t){return this.goTo(0,t)},n.prototype.goToLast=function(t){return this.goTo(this.slides.length-1,t)},n.registerAsJQueryPlugin=function(t,e){return t.fn[e]=function(t){var e,i,r,o;for(o=[],i=0,r=this.length;r>i;i++)e=this[i],o.push(new n(e,t));return o}},n}()},function(t,e){var n;return n=e(t.document),"function"==typeof define&&define.amd?define([],function(){return n}):"undefined"!=typeof exports?module.exports=n:t.Slideshow=n}(this,n)}).call(this);